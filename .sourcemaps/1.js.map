{"version":3,"sources":["../../src/pages/popup-location/popup-location.module.ts","../../src/pages/popup-location/popup-location.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PopupLocationPage } from './popup-location';\n\n@NgModule({\n  declarations: [\n    PopupLocationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PopupLocationPage),\n  ],\n})\nexport class PopupLocationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/popup-location/popup-location.module.ts","import { Component,OnInit ,ViewChild, ElementRef, NgZone} from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController,AlertController } from 'ionic-angular';\nimport {} from 'googlemaps';\nimport { MapsAPILoader } from '@agm/core';\nimport { FormControl } from '@angular/forms';\nimport { HomePage } from '../home/home';\n/**\n * Generated class for the PopupLocationPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-popup-location',\n  templateUrl: 'popup-location.html',\n   queries: {\n    nav: new ViewChild('content')\n  }\n})\nexport class PopupLocationPage {\n @ViewChild('search') public searchElement: ElementRef;\n public searchControl: FormControl;\n latitude:any;\n longitude:any;\n nav: any;\n  constructor(public navCtrl: NavController,private alertCtrl: AlertController,public viewCtrl : ViewController,private mapsAPILoader: MapsAPILoader, private ngZone: NgZone, public navParams: NavParams) {\n  \n this.mapsAPILoader.load().then(() => {\n      let autocomplete = new google.maps.places.Autocomplete(this.searchElement.nativeElement, {\n        types: [\"address\"]\n      });\n       console.log(\"autocomplete\",autocomplete);\n      autocomplete.addListener(\"place_changed\", () => {\n        this.ngZone.run(() => {\n          //get the place result        \n           let place: google.maps.places.PlaceResult = autocomplete.getPlace();\n          let arra:any= autocomplete.getPlace();\n             console.log(\"place\",place);\n             debugger;\n           //  var currentUserAddress = place.formatted_address;\n              if(arra.length){\n               //this.geoCode(currentUserAddress);\n                let lat = place[0].geometry.location.lat();\n\t\t\t\tlet lng =  place[0].geometry.location.lng();\n\t\t\t\tconsole.log(\"lat\",lat);\n\t\t\t\tconsole.log(\"lng\",lng);\n\t\t              this.distance(lat, lng, \"28.598070\", \"77.342870\", \"M\")\n                }\n\t          else if(place.geometry)\n\t           {\n           \t\t\tlet lat = place.geometry.location.lat();\n\t\t\t\t\tlet lng =  place.geometry.location.lng();\n \t\t\t\t\tconsole.log(\"lat\",lat)\n \t\t\t\t\tconsole.log(\"lng\",lng);\n\t\t\t\t\tthis.distance(lat, lng, \"28.598070\", \"77.342870\", \"M\")\n                }else{\n                \tlet alert = this.alertCtrl.create({\n\t\t\t              title: \"\",\n\t\t\t              subTitle: \"Please re-enter the location!\",\n\t\t\t              buttons: [\"OK\"]\n\t\t\t            });\n\t\t\t            alert.present();\n\t\t\t           \n                }\n  \t\t\t// var geocoder = new google.maps.Geocoder();\n\t\t\t  // geocoder.geocode( { 'address': currentUserAddress}, function(results, status) {\n\t\t\t  //   if (status == google.maps.GeocoderStatus.OK) {\n\t\t\t  //     var latitude = results[0].geometry.location.latitude;\n\t\t\t  //     var longitude = results[0].geometry.location.longitude;\n\t\t\t  //     var latlng = new LatLng(latitude, longitude);\n\t\t\t  //     var userAddress = new LatLng(currentUserAddress)\n\t\t\t  //     console.log(userAddress);\n\t\t\t  //   } \n\t\t\t  // }); \n     //         if (arra.length) {\n     //         \tlet lat = place[0].geometry.location.lat();\n\t\t\t\t\t// let lng =  place[0].geometry.location.lng();\n \t\t\t\t// \tconsole.log(\"lat\",lat);\n \t\t\t\t// \tconsole.log(\"lng\",lng);\n\t\t\t\t\t// this.distance(lat, lng, \"28.598070\", \"77.342870\", \"M\") \n     //         }else{\n\n     //                let lat = place.geometry.location.lat();\n\t\t\t\t\t// let lng =  place.geometry.location.lng();\n \t\t\t\t// \tconsole.log(\"lat\",lat);\n \t\t\t\t// \tconsole.log(\"lng\",lng);\n\t\t\t\t\t// this.distance(lat, lng, \"28.598070\", \"77.342870\", \"M\") \n\n     //         }\n                     \n          //verify result\n          if (place.geometry === undefined || place.geometry === null) {\n            return;\n          }\n   \n\t\t\t\t     });\n      });\n    });\n\n  }\nDisplayLOcation(){\n\t\n}\n\n\ngeoCode(address:any) {\n\tdebugger;\n    let geocoder = new google.maps.Geocoder();\n    geocoder.geocode({ 'address': address }, (results, status) => {\n    \tconsole.log(\"results\",results);\n    \tconsole.log(\"status\",status);\n    \tif(results[0].geometry)\n    \t{\n\t\t    this.latitude = results[0].geometry.location.lat();\n\t\t    this.longitude = results[0].geometry.location.lng();\n\t\t    //alert(\"lat: \" + this.latitude + \", long: \" + this.longitude);\n\t\t}\n\t\telse{\n\n\t\t\t// alert(\"lat: \" + address + \", long: \" + results + \" hello\" + status);\n\t\t}\n\n\t\t   });\n\t}\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PopupLocationPage');\n  }\n\n distance(lat1, lon1, lat2, lon2, unit) {\n \t\n\tif ((lat1 == lat2) && (lon1 == lon2)) {\n\t\treturn 0;\n\t}\n\telse {\n\t\tvar radlat1 = Math.PI * lat1/180;\n\t\tvar radlat2 = Math.PI * lat2/180;\n\t\tvar theta = lon1-lon2;\n\t\tvar radtheta = Math.PI * theta/180;\n\t\tvar dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n\t\tif (dist > 1) {\n\t\t\tdist = 1;\n\t\t}\n\t\tdist = Math.acos(dist);\n\t\tdist = dist * 180/Math.PI;\n\t\tdist = dist * 60 * 1.1515;\n\t\tif (unit==\"K\") { dist = dist * 1.609344 }\n\t\tif (unit==\"N\") { dist = dist * 0.8684 }\n\t\t\t\tconsole.log(\"dist\",dist);\n\n\t\t//return dist;\n\t\t  if (dist >= 7) {\n\t\t  \tlet alert = this.alertCtrl.create({\n\t\t\t              title: \"\",\n\t\t\t              subTitle: \"Please enter the location within seven miles\",\n\t\t\t              buttons: [\"OK\"]\n\t\t\t            });\n\t\t\t            alert.present();\n\t\t  }else{\n                       this.navCtrl.setRoot(HomePage);\n\t\t  }\n\n\t}\n\n\n}\n\n\tdismiss(){\n\t\tthis.viewCtrl.dismiss();\n\t\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/popup-location/popup-location.ts"],"sourceRoot":""}